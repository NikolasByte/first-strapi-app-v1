[{"C:\\Users\\ncharalambous\\OneDrive - Cambridge University Press\\Documents\\Repos\\ig-frontend\\src\\index.js":"1","C:\\Users\\ncharalambous\\OneDrive - Cambridge University Press\\Documents\\Repos\\ig-frontend\\src\\App.js":"2","C:\\Users\\ncharalambous\\OneDrive - Cambridge University Press\\Documents\\Repos\\ig-frontend\\src\\reportWebVitals.js":"3","C:\\Users\\ncharalambous\\OneDrive - Cambridge University Press\\Documents\\Repos\\ig-frontend\\src\\components\\Post.js":"4","C:\\Users\\ncharalambous\\OneDrive - Cambridge University Press\\Documents\\Repos\\ig-frontend\\src\\pages\\index.js":"5","C:\\Users\\ncharalambous\\OneDrive - Cambridge University Press\\Documents\\Repos\\ig-frontend\\src\\pages\\Index.js":"6","C:\\Users\\ncharalambous\\OneDrive - Cambridge University Press\\Documents\\Repos\\ig-frontend\\src\\pages\\Create.js":"7","C:\\Users\\ncharalambous\\OneDrive - Cambridge University Press\\Documents\\Repos\\ig-frontend\\src\\components\\Nav.js":"8","C:\\Users\\ncharalambous\\OneDrive - Cambridge University Press\\Documents\\Repos\\ig-frontend\\src\\pages\\SinglePost.js":"9"},{"size":500,"mtime":499162500000,"results":"10","hashOfConfig":"11"},{"size":659,"mtime":1608718127818,"results":"12","hashOfConfig":"11"},{"size":362,"mtime":499162500000,"results":"13","hashOfConfig":"11"},{"size":2805,"mtime":1608638878633,"results":"14","hashOfConfig":"11"},{"size":867,"mtime":1608718694119,"results":"15","hashOfConfig":"11"},{"size":867,"mtime":1608718694119,"results":"16","hashOfConfig":"11"},{"size":1905,"mtime":1608722663359,"results":"17","hashOfConfig":"11"},{"size":254,"mtime":1608650252826,"results":"18","hashOfConfig":"11"},{"size":2795,"mtime":1608725129281,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"13dimck",{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"22"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"32","messages":"33","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34","usedDeprecatedRules":"22"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"22"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40","usedDeprecatedRules":"22"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43"},"C:\\Users\\ncharalambous\\OneDrive - Cambridge University Press\\Documents\\Repos\\ig-frontend\\src\\index.js",[],["44","45"],"C:\\Users\\ncharalambous\\OneDrive - Cambridge University Press\\Documents\\Repos\\ig-frontend\\src\\App.js",[],"C:\\Users\\ncharalambous\\OneDrive - Cambridge University Press\\Documents\\Repos\\ig-frontend\\src\\reportWebVitals.js",[],"C:\\Users\\ncharalambous\\OneDrive - Cambridge University Press\\Documents\\Repos\\ig-frontend\\src\\components\\Post.js",["46","47","48"],"import React from 'react'\r\n\r\n\r\nconst post = {\r\n    \"id\": 1,\r\n    \"description\": \"Ozzie the cat. \",\r\n    \"likes\": 20,\r\n    \"author\": null,\r\n    \"published_at\": \"2020-12-22T11:04:07.703Z\",\r\n    \"created_at\": \"2020-12-22T10:56:03.355Z\",\r\n    \"updated_at\": \"2020-12-22T11:04:07.733Z\",\r\n    \"image\": {\r\n        \"id\": 1,\r\n        \"name\": \"cat.jpg\",\r\n        \"alternativeText\": \"\",\r\n        \"caption\": \"\",\r\n        \"width\": 1079,\r\n        \"height\": 2127,\r\n        \"formats\": {\r\n            \"thumbnail\": {\r\n                \"name\": \"thumbnail_cat.jpg\",\r\n                \"hash\": \"thumbnail_cat_c143888867\",\r\n                \"ext\": \".jpg\",\r\n                \"mime\": \"image/jpeg\",\r\n                \"width\": 79,\r\n                \"height\": 156,\r\n                \"size\": 3.62,\r\n                \"path\": null,\r\n                \"url\": \"/uploads/thumbnail_cat_c143888867.jpg\"\r\n            },\r\n            \"large\": {\r\n                \"name\": \"large_cat.jpg\",\r\n                \"hash\": \"large_cat_c143888867\",\r\n                \"ext\": \".jpg\",\r\n                \"mime\": \"image/jpeg\",\r\n                \"width\": 507,\r\n                \"height\": 1000,\r\n                \"size\": 96.66,\r\n                \"path\": null,\r\n                \"url\": \"/uploads/large_cat_c143888867.jpg\"\r\n            },\r\n            \"medium\": {\r\n                \"name\": \"medium_cat.jpg\",\r\n                \"hash\": \"medium_cat_c143888867\",\r\n                \"ext\": \".jpg\",\r\n                \"mime\": \"image/jpeg\",\r\n                \"width\": 380,\r\n                \"height\": 750,\r\n                \"size\": 60.34,\r\n                \"path\": null,\r\n                \"url\": \"/uploads/medium_cat_c143888867.jpg\"\r\n            },\r\n            \"small\": {\r\n                \"name\": \"small_cat.jpg\",\r\n                \"hash\": \"small_cat_c143888867\",\r\n                \"ext\": \".jpg\",\r\n                \"mime\": \"image/jpeg\",\r\n                \"width\": 254,\r\n                \"height\": 500,\r\n                \"size\": 28.69,\r\n                \"path\": null,\r\n                \"url\": \"/uploads/small_cat_c143888867.jpg\"\r\n            }\r\n        },\r\n        \"hash\": \"cat_c143888867\",\r\n        \"ext\": \".jpg\",\r\n        \"mime\": \"image/jpeg\",\r\n        \"size\": 328.18,\r\n        \"url\": \"/uploads/cat_c143888867.jpg\",\r\n        \"previewUrl\": null,\r\n        \"provider\": \"local\",\r\n        \"provider_metadata\": null,\r\n        \"created_at\": \"2020-12-22T10:55:34.361Z\",\r\n        \"updated_at\": \"2020-12-22T10:55:34.381Z\"\r\n    }\r\n}\r\n\r\nconst API_URL = 'http://localhost:1337'\r\nconst formatImageUrl = (url) => `${API_URL}${url}`\r\n\r\nexport default ({description, likes, url}) => {\r\n\r\n    return (\r\n    <div className=\"post\">\r\n        <img className=\"post__image\" src={formatImageUrl(url)}/>\r\n        <h4>{description}</h4>\r\n        <div>\r\n            <span>Likes: {likes}</span>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\n","C:\\Users\\ncharalambous\\OneDrive - Cambridge University Press\\Documents\\Repos\\ig-frontend\\src\\pages\\index.js",["49"],"C:\\Users\\ncharalambous\\OneDrive - Cambridge University Press\\Documents\\Repos\\ig-frontend\\src\\pages\\Index.js",["50"],"import React, {useState, useEffect} from 'react'\r\nimport Post from '../components/Post'\r\nimport {Link} from 'react-router-dom'\r\n\r\nexport default () => {\r\n\r\n    const [posts, setPosts] = useState([])\r\n\r\n    useEffect(() => {\r\n  \r\n      const getPosts = async () => {\r\n        const response = await fetch('http://localhost:1337/posts')\r\n        const data = await response.json()\r\n        setPosts(data)\r\n      }\r\n  \r\n      getPosts()\r\n    }, [])\r\n  \r\n    return (\r\n      <div className=\"Home\">\r\n        <h1>Cambridge University Press</h1>\r\n        <br></br>\r\n        {posts.map(post => (\r\n          <Link to={`/${post.id}`}>\r\n            <Post \r\n                  likes = {post.likes}\r\n                  description = {post.description}\r\n                  url = {post.image && post.image.url}\r\n            />\r\n          </Link>\r\n        ))}\r\n      </div>\r\n\r\n    );\r\n}","C:\\Users\\ncharalambous\\OneDrive - Cambridge University Press\\Documents\\Repos\\ig-frontend\\src\\pages\\Create.js",["51"],"import React, {useState} from 'react'\r\n\r\nexport default () => {\r\n\r\n    const [description, setDescription] = useState('')\r\n    const [file, setFile] = useState(null)\r\n    const [error, setError] =useState('')\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault()\r\n        if(!description){\r\n            setError('Please add a description')\r\n            return\r\n        }\r\n\r\n        if(!file){\r\n            setError('Please add a file')\r\n            return\r\n        }\r\n\r\n        const formData = new FormData()\r\n        formData.append('data', JSON.stringify({description}))\r\n        formData.append('files.image', file)\r\n\r\n        try {\r\n        const response = await fetch('http://localhost:1337/posts', {\r\n            method: 'POST',\r\n            body: formData\r\n        })\r\n\r\n        const data = await response.json()\r\n        console.log(\"data\", data)\r\n\r\n        } catch(err){\r\n        console.log(\"Exception\", err)\r\n        setError(err)\r\n        }\r\n    }\r\n    \r\n\r\n        return (\r\n        <div className=\"Create\">\r\n            <h1>Create</h1>\r\n            {error && <p>{error}</p>}\r\n            <form onSubmit={handleSubmit}>\r\n                <input \r\n                    placeholder=\"Description\"\r\n                    value={description}\r\n                    onChange={(event) => {\r\n                        setError('')\r\n                        setDescription(event.target.value)\r\n                    }\r\n                }\r\n                />\r\n                <input\r\n                    type=\"file\"\r\n                    placeholder=\"Add an image\"\r\n                    onChange={\r\n                        (event) => {\r\n                        setError('')    \r\n                        setFile(event.target.files[0])\r\n                    }\r\n                }\r\n                />\r\n                <button>Submit</button>\r\n            </form>\r\n        </div>\r\n        )\r\n\r\n}","C:\\Users\\ncharalambous\\OneDrive - Cambridge University Press\\Documents\\Repos\\ig-frontend\\src\\components\\Nav.js",["52"],"import React from 'react'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nexport default () => (\r\n    <div className=\"Nav\">\r\n        <NavLink to=\"/\" exact>Home</NavLink>\r\n        <br></br>\r\n        <NavLink to=\"/create\" exact>Create</NavLink>\r\n    </div>\r\n)","C:\\Users\\ncharalambous\\OneDrive - Cambridge University Press\\Documents\\Repos\\ig-frontend\\src\\pages\\SinglePost.js",["53","54","55","56"],"import React, {useState, useEffect, useImperativeHandle} from 'react'\r\nimport Post from '../components/Post'\r\n\r\nexport default ({match, history}) => {\r\n\r\n    const {id} = match.params\r\n\r\n    const [post, setPost] = useState({})\r\n    const [loading, setLoading] = useState(true)\r\n    const [edit, setEdit] = useState(false)\r\n\r\n    //Used for the edit form\r\n    const [description, setDescription] = useState('')\r\n\r\n    const fetchPost = async () => {\r\n        const response = await fetch(`http://localhost:1337/posts/${id}`)\r\n        const data = await response.json()\r\n\r\n        setPost(data)\r\n        setDescription(data.description)\r\n        setLoading(false)\r\n    }\r\n\r\n    const handleDelete = async () =>  {\r\n        const response = await fetch(`http://localhost:1337/posts/${id}`, {\r\n            method: 'DELETE'\r\n        })\r\n        const data = await response.json()\r\n        history.push('/')\r\n    }\r\n\r\n    const handleEditSubmit = async (event) => {\r\n        event.preventDefault()\r\n\r\n        const response = await fetch(`http://localhost:1337/posts/${id}`, {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n            description\r\n        })\r\n        \r\n    })\r\n    const data = await response.json() \r\n    fetchPost()\r\n    console.log(\"handleEditSubmit data\", data)\r\n\r\n  \r\n\r\n\r\n\r\n}\r\n\r\n    useEffect(() => {\r\n        fetchPost()\r\n\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <div>\r\n            {loading && \r\n            <p>Loading</p>\r\n            \r\n            }\r\n            {!loading &&\r\n                <>\r\n                    {post.id &&\r\n                    <>\r\n                    <button onClick={handleDelete}>Delete this Post</button>  \r\n                    <button onClick={() => setEdit(true)}>Edit this Post</button>\r\n                    {edit &&\r\n                        <form onSubmit={handleEditSubmit}>\r\n                            <input\r\n                                value={description}\r\n                                onChange={(event) => setDescription(event.target.value)}\r\n                                placeholder=\"New description\"\r\n                            /> \r\n                            <button>Confirm</button>\r\n                        </form>\r\n                    }\r\n                        <Post\r\n                            description = {Post.description}\r\n                            url = {post.image && post.image.url}\r\n                            likes = {post.likes}\r\n                        />\r\n \r\n                     </>\r\n                    }\r\n                </>\r\n            }\r\n                    {!post.id &&\r\n                        <p>404 error page not found</p>\r\n                    }\r\n\r\n        </div>\r\n    )\r\n                }",{"ruleId":"57","replacedBy":"58"},{"ruleId":"59","replacedBy":"60"},{"ruleId":"61","severity":1,"message":"62","line":4,"column":7,"nodeType":"63","messageId":"64","endLine":4,"endColumn":11},{"ruleId":"65","severity":1,"message":"66","line":81,"column":1,"nodeType":"67","endLine":92,"endColumn":2},{"ruleId":"68","severity":1,"message":"69","line":85,"column":9,"nodeType":"70","endLine":85,"endColumn":65},{"ruleId":"65","severity":1,"message":"66","line":4,"column":1,"nodeType":"67","endLine":33,"endColumn":2},{"ruleId":"65","severity":1,"message":"66","line":5,"column":1,"nodeType":"67","endLine":36,"endColumn":2},{"ruleId":"65","severity":1,"message":"66","line":3,"column":1,"nodeType":"67","endLine":70,"endColumn":2},{"ruleId":"65","severity":1,"message":"66","line":4,"column":1,"nodeType":"67","endLine":10,"endColumn":2},{"ruleId":"61","severity":1,"message":"71","line":1,"column":37,"nodeType":"63","messageId":"64","endLine":1,"endColumn":56},{"ruleId":"65","severity":1,"message":"66","line":4,"column":1,"nodeType":"67","endLine":99,"endColumn":18},{"ruleId":"61","severity":1,"message":"72","line":28,"column":15,"nodeType":"63","messageId":"64","endLine":28,"endColumn":19},{"ruleId":"73","severity":1,"message":"74","line":58,"column":8,"nodeType":"75","endLine":58,"endColumn":10,"suggestions":"76"},"no-native-reassign",["77"],"no-negated-in-lhs",["78"],"no-unused-vars","'post' is assigned a value but never used.","Identifier","unusedVar","import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'useImperativeHandle' is defined but never used.","'data' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fetchPost'. Either include it or remove the dependency array.","ArrayExpression",["79"],"no-global-assign","no-unsafe-negation",{"desc":"80","fix":"81"},"Update the dependencies array to be: [fetchPost]",{"range":"82","text":"83"},[1452,1454],"[fetchPost]"]